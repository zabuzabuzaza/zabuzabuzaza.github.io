<!DOCTYPE html>

<html>
  <head>
    <meta content="text/html" charset="UTF-8">
    <link rel="stylesheet" href="styles/styles.css">
    <base href="/home/ok_palette/" />

    <title>An Ok Colour Palette</title>
  </head>


  <body>
    <div class="sans-serif">
      <h1>An OK(LCH) Palette Deck</h3>
        <div></div>
      <div class="deck">
        <div class="deck-section" id="deck-section-top">
          <div class="palette-blend">
            <canvas class="palette-blend-canvas" id="lab-palette-blend-canvas"></canvas>
          </div>
          <div class="palette-block" id="palette-blocks-group">
            
          </div>
        </div>



        <div class="deck-section" id="deck-section-middle">
          <div class="main-deck-section platter" id="platter-left">

            <div class="hue-slider slider-group" id="platter-left-hue-input">
              <span class="overlay slider-text label-text horizontal-text">HUE</span>
              <span class="overlay slider-text horizontal-text" id="platter-controls-left-labels-hue">Hue</span>
              <input type="range" class="horizontal-slider" id="slider-left-hue" min="0" max="360" step="1" value="0" style="direction: rtl;">
              <!-- <input type="number" id="input-left-hue" min="0" max="360" step="1" value="0" style="margin-left: 60%;"> -->
            </div>

            <div class="light-slider slider-group" id="platter-left-light-slider">
              <span class="overlay slider-text label-text-vertical vertical-text">LIGHTNESS</span>
              <span class="overlay slider-text vertical-text" id="platter-controls-left-labels-lht">Lightness</span>
              <input type="range" class="vertical-slider" id="slider-left-lht" min="0" max="1" step="0.001" value="0.65">
            </div>

            <div class="canvas-block" id="platter-left-canvases">
              <canvas class="palette-canvas chroma-canvas" id="chroma-canvas-left" width="0" height="0"></canvas>
              <canvas class="palette-canvas overlay chroma-canvas-overlay" id="chroma-canvas-overlay-left" width="0" height="0"></canvas>
            </div>

            <div class="platter-picker">
              <input type="color" id="picker-left" value="#FFFFFF">
            </div>

            <div class="chroma-slider slider-group" id="platter-left-chroma-slider">
              <span class="overlay slider-text label-text horizontal-text">CHROMA</span>
              <span class="overlay slider-text horizontal-text" id="platter-controls-left-labels-chr">Chroma</span>
              <input type="range" class="horizontal-slider" id="slider-left-chr" min="0" max="0.35" step="0.001" value="0.25" style="direction: rtl;">
            </div>

          </div>
          <div class="main-deck-section mixer" id="mixer-middle">

            <div class="canvas-block" id="mixer-middle-canvases">
              <canvas class="palette-canvas lightness-canvas" id="lightness-canvas" width="0" height="0"></canvas>
              <canvas class="palette-canvas overlay lightness-canvas-ring" id="lightness-canvas-ring" width="0" height="0"></canvas>
              <canvas class="palette-canvas overlay lightness-canvas-overlay" id="lightness-canvas-overlay" width="0" height="0"></canvas>
            </div>
            
          </div>
          <div class="main-deck-section platter" id="platter-right">

            <div class="hue-slider slider-group" id="platter-right-hue-input">
              <span class="overlay slider-text label-text horizontal-text">HUE</span>
              <span class="overlay slider-text horizontal-text" id="platter-controls-right-labels-hue">Hue</span>
              <input type="range" class="horizontal-slider" id="slider-right-hue" min="0" max="360" step="1" value="270">
              <!-- <input type="number" id="input-right-hue" min="0" max="360" step="1" value="270" style="margin-left: 60%;"> -->
            </div>

            <div class="light-slider slider-group" id="platter-right-light-slider">
              <span class="overlay slider-text label-text-vertical vertical-text">LIGHTNESS</span>
              <span class="overlay slider-text vertical-text" id="platter-controls-right-labels-lht">Lightness</span>
              <input type="range" class="vertical-slider" id="slider-right-lht" min="0" max="1" step="0.001" value="0.65">
            </div>

            <div class="canvas-block" id="platter-right-canvases">
              <canvas class="palette-canvas chroma-canvas" id="chroma-canvas-right" width="0" height="0"></canvas>
              <canvas class="palette-canvas overlay chroma-canvas-overlay" id="chroma-canvas-overlay-right" width="0" height="0"></canvas>
            </div>

            <div class="platter-picker">
              <input type="color" id="picker-right" value="#FFFFFF">
            </div>
            
            <div class="chroma-slider slider-group" id="platter-right-chroma-slider">
              <span class="overlay slider-text label-text horizontal-text">CHROMA</span>
              <span class="overlay slider-text horizontal-text" id="platter-controls-right-labels-chr">Chroma</span>
              <input type="range" class="horizontal-slider" id="slider-right-chr" min="0" max="0.35" step="0.001" value="0.15">
            </div>

          </div>
        </div>



        <div class="deck-section" id="deck-section-bottom">
          
          <div class="platter-controls" id="platter-controls-left">
            
            <div>
              <a href="https://github.com/zabuzabuzaza/zabuzabuzaza.github.io/tree/main/home/ok_palette">see this on github</a>
              Based on the OKLAB / LCH colourspace by Bj√∂rn Ottosson outlined <a href="https://bottosson.github.io/posts/oklab/">here</a>, 
              and inspired by many other colour pickers like <a href="https://oklch.com/">this one</a>. 

Was supposed to be modelled around a DJ deck, what with the two decks and the mixer in the middle, and the sans-serif font reminded me of Raw Data Feel / Endless. 
              
            </div>
          </div>

          <img src="assets/rotate.gif">

          <div class="platter-controls" id="platter-controls-right">
            <div>
              TODO
              - [ ] add input to vary step number in the palette
              - [x] add a bisection method for finding fallback colour. 
                    also have an option to clamp the cursor to the uppermost chroma
                - [x] added clamp functionality, just need an option to turn off or on
              - [ ] add extra palettes on the side (chroma variable) and along the bottom 
              - [ ] apply fallback check for slider changes
            </div>
          </div>
        </div>

        
      </div>

    </div>
  </body>

  <script type="module" src="scripts/script.js"></script>
  <script type="module" src="scripts/colours.js"></script>
</html>